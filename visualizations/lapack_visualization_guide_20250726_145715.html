<!DOCTYPE html>
<html>
<head>
    <title>LAPACK Graph Analysis Guide</title>
    <style>
        body {{
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }}
        h1, h2 {{
            color: #1e3a5f;
        }}
        .query-section {{
            margin: 20px 0;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }}
        pre {{
            background-color: #2e3440;
            color: #d8dee9;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }}
        .run-button {{
            background-color: #008cc1;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
        }}
        .run-button:hover {{
            background-color: #006fa1;
        }}
        .description {{
            color: #666;
            font-style: italic;
            margin-bottom: 10px;
        }}
    </style>
</head>
<body>
    <h1>LAPACK Computational Graph Analysis</h1>
    <p>Generated: 2025-07-26 14:57:15</p>
    <p>Click the "Run Query" buttons to execute queries directly in Neo4j Browser.</p>
    
    <h2>Visualization Queries</h2>

    <div class="query-section">
        <h3>Graph Overview</h3>
        <pre>
// Overview of LAPACK computational graph structure
MATCH (r1:Routine)-[:CALLS]-&gt;(r2:Routine)
WITH r1, r2, rand() as random
ORDER BY random
LIMIT 200
RETURN r1, r2
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Overview%20of%20LAPACK%20computational%20graph%20structure%0AMATCH%20%28r1%3ARoutine%29-%5B%3ACALLS%5D-%3E%28r2%3ARoutine%29%0AWITH%20r1%2C%20r2%2C%20rand%28%29%20as%20random%0AORDER%20BY%20random%0ALIMIT%20200%0ARETURN%20r1%2C%20r2%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Most Connected Routines (Hubs)</h3>
        <pre>
// Top 30 most connected routines - the central hubs of LAPACK
MATCH (r:Routine)
WITH r, COUNT{(r)-[:CALLS]-()} as degree
ORDER BY degree DESC
LIMIT 30
MATCH (r)-[rel:CALLS]-(connected)
RETURN r, rel, connected
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Top%2030%20most%20connected%20routines%20-%20the%20central%20hubs%20of%20LAPACK%0AMATCH%20%28r%3ARoutine%29%0AWITH%20r%2C%20COUNT%7B%28r%29-%5B%3ACALLS%5D-%28%29%7D%20as%20degree%0AORDER%20BY%20degree%20DESC%0ALIMIT%2030%0AMATCH%20%28r%29-%5Brel%3ACALLS%5D-%28connected%29%0ARETURN%20r%2C%20rel%2C%20connected%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Precision Distribution Network</h3>
        <pre>
// How different precision routines interact
MATCH (r1:Routine)-[:CALLS]-&gt;(r2:Routine)
WHERE r1.precision IS NOT NULL AND r2.precision IS NOT NULL
WITH r1, r2, rand() as random
ORDER BY random
LIMIT 150
RETURN r1, r2
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20How%20different%20precision%20routines%20interact%0AMATCH%20%28r1%3ARoutine%29-%5B%3ACALLS%5D-%3E%28r2%3ARoutine%29%0AWHERE%20r1.precision%20IS%20NOT%20NULL%20AND%20r2.precision%20IS%20NOT%20NULL%0AWITH%20r1%2C%20r2%2C%20rand%28%29%20as%20random%0AORDER%20BY%20random%0ALIMIT%20150%0ARETURN%20r1%2C%20r2%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Category Interaction Pattern</h3>
        <pre>
// How different categories of routines call each other
MATCH (r1:Routine)-[:CALLS]-&gt;(r2:Routine)
WHERE r1.category &lt;&gt; 'other' AND r2.category &lt;&gt; 'other'
  AND r1.category IS NOT NULL AND r2.category IS NOT NULL
WITH r1, r2, rand() as random
ORDER BY random
LIMIT 150
RETURN r1, r2
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20How%20different%20categories%20of%20routines%20call%20each%20other%0AMATCH%20%28r1%3ARoutine%29-%5B%3ACALLS%5D-%3E%28r2%3ARoutine%29%0AWHERE%20r1.category%20%3C%3E%20%27other%27%20AND%20r2.category%20%3C%3E%20%27other%27%0A%20%20AND%20r1.category%20IS%20NOT%20NULL%20AND%20r2.category%20IS%20NOT%20NULL%0AWITH%20r1%2C%20r2%2C%20rand%28%29%20as%20random%0AORDER%20BY%20random%0ALIMIT%20150%0ARETURN%20r1%2C%20r2%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>XERBLA Error Handling Network</h3>
        <pre>
// Error handling network - routines that call XERBLA
MATCH (xerbla:Routine {name: 'XERBLA'})
MATCH (caller)-[:CALLS]-&gt;(xerbla)
WITH xerbla, caller
LIMIT 100
RETURN xerbla, caller
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Error%20handling%20network%20-%20routines%20that%20call%20XERBLA%0AMATCH%20%28xerbla%3ARoutine%20%7Bname%3A%20%27XERBLA%27%7D%29%0AMATCH%20%28caller%29-%5B%3ACALLS%5D-%3E%28xerbla%29%0AWITH%20xerbla%2C%20caller%0ALIMIT%20100%0ARETURN%20xerbla%2C%20caller%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>BLAS Level 3 Operations</h3>
        <pre>
// BLAS Level 3 (matrix-matrix) operations and their connections
MATCH (r:Routine {type: 'blas3'})
OPTIONAL MATCH (r)-[c:CALLS]-(connected:Routine)
WITH r, c, connected
LIMIT 150
RETURN r, c, connected
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20BLAS%20Level%203%20%28matrix-matrix%29%20operations%20and%20their%20connections%0AMATCH%20%28r%3ARoutine%20%7Btype%3A%20%27blas3%27%7D%29%0AOPTIONAL%20MATCH%20%28r%29-%5Bc%3ACALLS%5D-%28connected%3ARoutine%29%0AWITH%20r%2C%20c%2C%20connected%0ALIMIT%20150%0ARETURN%20r%2C%20c%2C%20connected%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Factorization Routines Network</h3>
        <pre>
// All factorization routines and their dependencies
MATCH (r:Routine)
WHERE r.category CONTAINS 'factorization'
OPTIONAL MATCH (r)-[c:CALLS]-(connected:Routine)
WITH r, c, connected
LIMIT 200
RETURN r, c, connected
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20All%20factorization%20routines%20and%20their%20dependencies%0AMATCH%20%28r%3ARoutine%29%0AWHERE%20r.category%20CONTAINS%20%27factorization%27%0AOPTIONAL%20MATCH%20%28r%29-%5Bc%3ACALLS%5D-%28connected%3ARoutine%29%0AWITH%20r%2C%20c%2C%20connected%0ALIMIT%20200%0ARETURN%20r%2C%20c%2C%20connected%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Eigenvalue Solver Dependencies</h3>
        <pre>
// Eigenvalue solvers and what they depend on
MATCH (r:Routine)
WHERE r.category CONTAINS 'eigenvalue' OR r.name CONTAINS 'EV'
OPTIONAL MATCH (r)-[:CALLS]-&gt;(dep:Routine)
WITH r, dep
WHERE dep IS NOT NULL
RETURN r, dep
LIMIT 150
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Eigenvalue%20solvers%20and%20what%20they%20depend%20on%0AMATCH%20%28r%3ARoutine%29%0AWHERE%20r.category%20CONTAINS%20%27eigenvalue%27%20OR%20r.name%20CONTAINS%20%27EV%27%0AOPTIONAL%20MATCH%20%28r%29-%5B%3ACALLS%5D-%3E%28dep%3ARoutine%29%0AWITH%20r%2C%20dep%0AWHERE%20dep%20IS%20NOT%20NULL%0ARETURN%20r%2C%20dep%0ALIMIT%20150%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>File-based Clustering</h3>
        <pre>
// Routines clustered by their source files
MATCH (f:File)&lt;-[:DEFINED_IN]-(r:Routine)
WITH f, collect(r) as routines
WHERE size(routines) &gt; 5 AND size(routines) &lt; 25
LIMIT 5
UNWIND routines as r
OPTIONAL MATCH (r)-[c:CALLS]-(other:Routine)
WHERE other IN routines
RETURN f, r, c, other
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Routines%20clustered%20by%20their%20source%20files%0AMATCH%20%28f%3AFile%29%3C-%5B%3ADEFINED_IN%5D-%28r%3ARoutine%29%0AWITH%20f%2C%20collect%28r%29%20as%20routines%0AWHERE%20size%28routines%29%20%3E%205%20AND%20size%28routines%29%20%3C%2025%0ALIMIT%205%0AUNWIND%20routines%20as%20r%0AOPTIONAL%20MATCH%20%28r%29-%5Bc%3ACALLS%5D-%28other%3ARoutine%29%0AWHERE%20other%20IN%20routines%0ARETURN%20f%2C%20r%2C%20c%2C%20other%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Isolated Routine Groups</h3>
        <pre>
// Find isolated groups of interconnected routines
MATCH (r:Routine)
WHERE NOT (r)-[:CALLS]-()
RETURN r
LIMIT 50
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Find%20isolated%20groups%20of%20interconnected%20routines%0AMATCH%20%28r%3ARoutine%29%0AWHERE%20NOT%20%28r%29-%5B%3ACALLS%5D-%28%29%0ARETURN%20r%0ALIMIT%2050%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Routine Statistics</h3>
        <pre>
// Basic statistics about routines
MATCH (r:Routine)
WITH count(r) as total,
     count(CASE WHEN r.precision = 'single' THEN 1 END) as single_count,
     count(CASE WHEN r.precision = 'double' THEN 1 END) as double_count,
     count(CASE WHEN r.precision = 'complex' THEN 1 END) as complex_count,
     count(CASE WHEN r.precision = 'double_complex' THEN 1 END) as double_complex_count
RETURN total, single_count, double_count, complex_count, double_complex_count
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Basic%20statistics%20about%20routines%0AMATCH%20%28r%3ARoutine%29%0AWITH%20count%28r%29%20as%20total%2C%0A%20%20%20%20%20count%28CASE%20WHEN%20r.precision%20%3D%20%27single%27%20THEN%201%20END%29%20as%20single_count%2C%0A%20%20%20%20%20count%28CASE%20WHEN%20r.precision%20%3D%20%27double%27%20THEN%201%20END%29%20as%20double_count%2C%0A%20%20%20%20%20count%28CASE%20WHEN%20r.precision%20%3D%20%27complex%27%20THEN%201%20END%29%20as%20complex_count%2C%0A%20%20%20%20%20count%28CASE%20WHEN%20r.precision%20%3D%20%27double_complex%27%20THEN%201%20END%29%20as%20double_complex_count%0ARETURN%20total%2C%20single_count%2C%20double_count%2C%20complex_count%2C%20double_complex_count%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Most Called Routines</h3>
        <pre>
// Top 20 most frequently called routines
MATCH (caller)-[:CALLS]-&gt;(r:Routine)
RETURN r.name as routine, r.precision as precision, r.category as category,
       count(caller) as times_called
ORDER BY times_called DESC
LIMIT 20
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Top%2020%20most%20frequently%20called%20routines%0AMATCH%20%28caller%29-%5B%3ACALLS%5D-%3E%28r%3ARoutine%29%0ARETURN%20r.name%20as%20routine%2C%20r.precision%20as%20precision%2C%20r.category%20as%20category%2C%0A%20%20%20%20%20%20%20count%28caller%29%20as%20times_called%0AORDER%20BY%20times_called%20DESC%0ALIMIT%2020%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Routines with Most Dependencies</h3>
        <pre>
// Routines that call the most other routines
MATCH (r:Routine)-[:CALLS]-&gt;(dependency)
RETURN r.name as routine, r.precision as precision,
       count(DISTINCT dependency) as dependency_count
ORDER BY dependency_count DESC
LIMIT 20
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Routines%20that%20call%20the%20most%20other%20routines%0AMATCH%20%28r%3ARoutine%29-%5B%3ACALLS%5D-%3E%28dependency%29%0ARETURN%20r.name%20as%20routine%2C%20r.precision%20as%20precision%2C%0A%20%20%20%20%20%20%20count%28DISTINCT%20dependency%29%20as%20dependency_count%0AORDER%20BY%20dependency_count%20DESC%0ALIMIT%2020%0A" class="run-button" target="_blank">Run Query</a>
    </div>

    <div class="query-section">
        <h3>Cross-Precision Calls</h3>
        <pre>
// Where different precisions interact
MATCH (r1:Routine)-[:CALLS]-&gt;(r2:Routine)
WHERE r1.precision &lt;&gt; r2.precision
  AND r1.precision IS NOT NULL 
  AND r2.precision IS NOT NULL
RETURN r1.name as caller, r1.precision as caller_precision,
       r2.name as callee, r2.precision as callee_precision
LIMIT 50
</pre>
        <a href="http://localhost:7474/browser/?cmd=edit&arg=%0A//%20Where%20different%20precisions%20interact%0AMATCH%20%28r1%3ARoutine%29-%5B%3ACALLS%5D-%3E%28r2%3ARoutine%29%0AWHERE%20r1.precision%20%3C%3E%20r2.precision%0A%20%20AND%20r1.precision%20IS%20NOT%20NULL%20%0A%20%20AND%20r2.precision%20IS%20NOT%20NULL%0ARETURN%20r1.name%20as%20caller%2C%20r1.precision%20as%20caller_precision%2C%0A%20%20%20%20%20%20%20r2.name%20as%20callee%2C%20r2.precision%20as%20callee_precision%0ALIMIT%2050%0A" class="run-button" target="_blank">Run Query</a>
    </div>

</body>
</html>
